{"ast":null,"code":"import _slicedToArray from \"C:/pproject-files/new-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport { GridEvents } from '../../models/events';\nimport { isFunction } from '../../utils/utils';\nimport { useGridLogger } from './useGridLogger';\nexport var useGridNativeEventListener = function useGridNativeEventListener(apiRef, ref, eventName, handler, options) {\n  var logger = useGridLogger(apiRef, 'useNativeEventListener');\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      added = _React$useState2[0],\n      setAdded = _React$useState2[1];\n\n  var handlerRef = React.useRef(handler);\n  var wrapHandler = React.useCallback(function (args) {\n    return handlerRef.current && handlerRef.current(args);\n  }, []);\n  React.useEffect(function () {\n    handlerRef.current = handler;\n  }, [handler]);\n  React.useEffect(function () {\n    var targetElement;\n\n    if (isFunction(ref)) {\n      targetElement = ref();\n    } else {\n      targetElement = ref && ref.current ? ref.current : null;\n    }\n\n    if (targetElement && wrapHandler && eventName && !added) {\n      logger.debug(\"Binding native \".concat(eventName, \" event\"));\n      targetElement.addEventListener(eventName, wrapHandler, options);\n      var boundElem = targetElement;\n      setAdded(true);\n\n      var unsubscribe = function unsubscribe() {\n        logger.debug(\"Clearing native \".concat(eventName, \" event\"));\n        boundElem.removeEventListener(eventName, wrapHandler, options);\n      };\n\n      apiRef.current.subscribeEvent(GridEvents.unmount, unsubscribe);\n    }\n  }, [ref, wrapHandler, eventName, added, logger, options, apiRef]);\n};","map":{"version":3,"sources":["C:/pproject-files/new-app/node_modules/@mui/x-data-grid/hooks/utils/useGridNativeEventListener.js"],"names":["React","GridEvents","isFunction","useGridLogger","useGridNativeEventListener","apiRef","ref","eventName","handler","options","logger","useState","added","setAdded","handlerRef","useRef","wrapHandler","useCallback","args","current","useEffect","targetElement","debug","addEventListener","boundElem","unsubscribe","removeEventListener","subscribeEvent","unmount"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,OAAO,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,MAAD,EAASC,GAAT,EAAcC,SAAd,EAAyBC,OAAzB,EAAkCC,OAAlC,EAA8C;AACtF,MAAMC,MAAM,GAAGP,aAAa,CAACE,MAAD,EAAS,wBAAT,CAA5B;;AACA,wBAA0BL,KAAK,CAACW,QAAN,CAAe,KAAf,CAA1B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AACA,MAAMC,UAAU,GAAGd,KAAK,CAACe,MAAN,CAAaP,OAAb,CAAnB;AACA,MAAMQ,WAAW,GAAGhB,KAAK,CAACiB,WAAN,CAAkB,UAAAC,IAAI,EAAI;AAC5C,WAAOJ,UAAU,CAACK,OAAX,IAAsBL,UAAU,CAACK,OAAX,CAAmBD,IAAnB,CAA7B;AACD,GAFmB,EAEjB,EAFiB,CAApB;AAGAlB,EAAAA,KAAK,CAACoB,SAAN,CAAgB,YAAM;AACpBN,IAAAA,UAAU,CAACK,OAAX,GAAqBX,OAArB;AACD,GAFD,EAEG,CAACA,OAAD,CAFH;AAGAR,EAAAA,KAAK,CAACoB,SAAN,CAAgB,YAAM;AACpB,QAAIC,aAAJ;;AAEA,QAAInB,UAAU,CAACI,GAAD,CAAd,EAAqB;AACnBe,MAAAA,aAAa,GAAGf,GAAG,EAAnB;AACD,KAFD,MAEO;AACLe,MAAAA,aAAa,GAAGf,GAAG,IAAIA,GAAG,CAACa,OAAX,GAAqBb,GAAG,CAACa,OAAzB,GAAmC,IAAnD;AACD;;AAED,QAAIE,aAAa,IAAIL,WAAjB,IAAgCT,SAAhC,IAA6C,CAACK,KAAlD,EAAyD;AACvDF,MAAAA,MAAM,CAACY,KAAP,0BAA+Bf,SAA/B;AACAc,MAAAA,aAAa,CAACE,gBAAd,CAA+BhB,SAA/B,EAA0CS,WAA1C,EAAuDP,OAAvD;AACA,UAAMe,SAAS,GAAGH,aAAlB;AACAR,MAAAA,QAAQ,CAAC,IAAD,CAAR;;AAEA,UAAMY,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBf,QAAAA,MAAM,CAACY,KAAP,2BAAgCf,SAAhC;AACAiB,QAAAA,SAAS,CAACE,mBAAV,CAA8BnB,SAA9B,EAAyCS,WAAzC,EAAsDP,OAAtD;AACD,OAHD;;AAKAJ,MAAAA,MAAM,CAACc,OAAP,CAAeQ,cAAf,CAA8B1B,UAAU,CAAC2B,OAAzC,EAAkDH,WAAlD;AACD;AACF,GAtBD,EAsBG,CAACnB,GAAD,EAAMU,WAAN,EAAmBT,SAAnB,EAA8BK,KAA9B,EAAqCF,MAArC,EAA6CD,OAA7C,EAAsDJ,MAAtD,CAtBH;AAuBD,CAjCM","sourcesContent":["import * as React from 'react';\nimport { GridEvents } from '../../models/events';\nimport { isFunction } from '../../utils/utils';\nimport { useGridLogger } from './useGridLogger';\nexport const useGridNativeEventListener = (apiRef, ref, eventName, handler, options) => {\n  const logger = useGridLogger(apiRef, 'useNativeEventListener');\n  const [added, setAdded] = React.useState(false);\n  const handlerRef = React.useRef(handler);\n  const wrapHandler = React.useCallback(args => {\n    return handlerRef.current && handlerRef.current(args);\n  }, []);\n  React.useEffect(() => {\n    handlerRef.current = handler;\n  }, [handler]);\n  React.useEffect(() => {\n    let targetElement;\n\n    if (isFunction(ref)) {\n      targetElement = ref();\n    } else {\n      targetElement = ref && ref.current ? ref.current : null;\n    }\n\n    if (targetElement && wrapHandler && eventName && !added) {\n      logger.debug(`Binding native ${eventName} event`);\n      targetElement.addEventListener(eventName, wrapHandler, options);\n      const boundElem = targetElement;\n      setAdded(true);\n\n      const unsubscribe = () => {\n        logger.debug(`Clearing native ${eventName} event`);\n        boundElem.removeEventListener(eventName, wrapHandler, options);\n      };\n\n      apiRef.current.subscribeEvent(GridEvents.unmount, unsubscribe);\n    }\n  }, [ref, wrapHandler, eventName, added, logger, options, apiRef]);\n};"]},"metadata":{},"sourceType":"module"}